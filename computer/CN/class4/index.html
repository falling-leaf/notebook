
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="why的个人网站">
      
      
        <meta name="author" content="王昊元">
      
      
        <link rel="canonical" href="https://falling-leaf.github.io/notebook/computer/CN/class4/">
      
      
        <link rel="prev" href="../class3/">
      
      
        <link rel="next" href="../class5/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.4">
    
    
      
        <title>class 4 - why的个人网站</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#class-4" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="why的个人网站" class="md-header__button md-logo" aria-label="why的个人网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            why的个人网站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              class 4
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme:light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="yellow"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  首页

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../math/" class="md-tabs__link">
          
  
    
  
  数理基础

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  计算机

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../music/" class="md-tabs__link">
          
  
    
  
  音乐

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="why的个人网站" class="md-nav__button md-logo" aria-label="why的个人网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    why的个人网站
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    首页
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            首页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    软工/工高课程简述及结构
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数理基础
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            数理基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            计算机
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../GAMES101/lecture_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    计算机图形学(GAMES101)
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../OS/class1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    操作系统
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机网络
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    class 4
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    class 4
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#class-4" class="md-nav__link">
    <span class="md-ellipsis">
      class 4: 介质访问子层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="class 4: 介质访问子层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0-overview" class="md-nav__link">
    <span class="md-ellipsis">
      0. Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 信道分配问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 信道分配问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 静态分配方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 动态分配方法：多路访问协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 多路访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 多路访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 随机访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 随机访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-aloha" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.1 ALOHA协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-alohaslotted-aloha" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.2 分隙ALOHA（slotted ALOHA）协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-csmacarrier-sense-multiple-access" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3 载波侦听多路访问协议（CSMA，carrier-sense multiple access）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1.3 载波侦听多路访问协议（CSMA，carrier-sense multiple access）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2131-csma" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3.1 非持续式CSMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2132-1-csma" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3.2 持续式（1-持续式）CSMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2133-p-csma" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3.3 p-持续式CSMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-csmacd1-" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.2 CSMA/CD（1-持续）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 受控访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 受控访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 位图协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 令牌传递
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 二进制倒计数协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 有限竞争协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 有限竞争协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-adaptive-tree-walk-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 自适应树搜索协议（Adaptive Tree Walk Protocol）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 以太网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 以太网的历史
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 经典以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 交换式以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 快速以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 千兆以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 万兆以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37-40g100g" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 40G/100G以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 数据链路层交换
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 数据链路层交换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 原理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1 网桥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#412" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.2 链路层交换机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#413" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3 生成树协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1.3 生成树协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4131" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3.1 问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4132" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3.2 生成树协议的方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4133" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3.3 出错时生成树协议的重构方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 虚拟局域网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 虚拟局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-vlan" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 VLAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 其他问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 无线局域网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 无线局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 无线局域网概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 无线局域网组网模式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 无线局域网体系结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-80211" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 802.11 物理层
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-80211-mac" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 802.11 MAC层
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-80211" class="md-nav__link">
    <span class="md-ellipsis">
      5.6 802.11 帧结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57" class="md-nav__link">
    <span class="md-ellipsis">
      5.7 无线局域网的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#58-wifi" class="md-nav__link">
    <span class="md-ellipsis">
      5.8 前沿WiFi技术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class 5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../ES/ES/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    +工具/ElasticSearch
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../PAGES/pages/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    +工具/静态网页设置
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../music/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    音乐
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            音乐
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/PLAY/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    演奏曲目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/COMPOSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    原创曲目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/note/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人小记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#class-4" class="md-nav__link">
    <span class="md-ellipsis">
      class 4: 介质访问子层
    </span>
  </a>
  
    <nav class="md-nav" aria-label="class 4: 介质访问子层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0-overview" class="md-nav__link">
    <span class="md-ellipsis">
      0. Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 信道分配问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 信道分配问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 静态分配方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 动态分配方法：多路访问协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 多路访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 多路访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 随机访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 随机访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-aloha" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.1 ALOHA协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-alohaslotted-aloha" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.2 分隙ALOHA（slotted ALOHA）协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-csmacarrier-sense-multiple-access" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3 载波侦听多路访问协议（CSMA，carrier-sense multiple access）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1.3 载波侦听多路访问协议（CSMA，carrier-sense multiple access）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2131-csma" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3.1 非持续式CSMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2132-1-csma" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3.2 持续式（1-持续式）CSMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2133-p-csma" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3.3 p-持续式CSMA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-csmacd1-" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.2 CSMA/CD（1-持续）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 受控访问协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 受控访问协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 位图协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 令牌传递
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 二进制倒计数协议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 有限竞争协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 有限竞争协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-adaptive-tree-walk-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 自适应树搜索协议（Adaptive Tree Walk Protocol）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 以太网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 以太网的历史
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 经典以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 交换式以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 快速以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 千兆以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 万兆以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37-40g100g" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 40G/100G以太网
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 数据链路层交换
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 数据链路层交换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 原理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1 网桥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#412" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.2 链路层交换机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#413" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3 生成树协议
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1.3 生成树协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4131" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3.1 问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4132" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3.2 生成树协议的方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4133" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3.3 出错时生成树协议的重构方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 虚拟局域网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 虚拟局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-vlan" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 VLAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 其他问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 无线局域网
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 无线局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 无线局域网概述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 无线局域网组网模式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 无线局域网体系结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-80211" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 802.11 物理层
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-80211-mac" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 802.11 MAC层
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-80211" class="md-nav__link">
    <span class="md-ellipsis">
      5.6 802.11 帧结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57" class="md-nav__link">
    <span class="md-ellipsis">
      5.7 无线局域网的构建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#58-wifi" class="md-nav__link">
    <span class="md-ellipsis">
      5.8 前沿WiFi技术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>class 4</h1>

<h2 id="class-4">class 4: 介质访问子层<a class="headerlink" href="#class-4" title="Permanent link">&para;</a></h2>
<h3 id="0-overview">0. Overview<a class="headerlink" href="#0-overview" title="Permanent link">&para;</a></h3>
<p>介质访问子层（meta access control sublayer，MAC）是位于数据链路层相对较底层的位置。</p>
<p><img alt="1729133101435" src="../image/class_4/1729133101435.png" /></p>
<h3 id="1">1. 信道分配问题<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p>信道往往需要共享，也有不同方法的局域网拓扑（总线、星型、环型等），因此需要考虑如何分配信道。</p>
<p>这里讨论的信道分配不仅仅是之前物理层上的时域/频域复用，而是进一步考虑同时同频情况下的分配问题。</p>
<h4 id="11">1.1 静态分配方法<a class="headerlink" href="#11" title="Permanent link">&para;</a></h4>
<p>静态分配方法：TDM/FDM</p>
<p>排队论分析：（M/M/1排队系统模型）：</p>
<ul>
<li>M：顾客到达时间间隔分布</li>
<li>帧到达时间间隔服从指数分布</li>
<li>设平均到达率为<span class="arithmatex"><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span>帧/s</li>
<li>M：服务时间分布</li>
<li>帧长度服从指数分布</li>
<li>设帧平均长度为<span class="arithmatex"><span class="MathJax_Preview">1/\mu</span><script type="math/tex">1/\mu</script></span>位/帧</li>
<li>信道容量为<span class="arithmatex"><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span>位/s，则信道服务率为<span class="arithmatex"><span class="MathJax_Preview">\mu C</span><script type="math/tex">\mu C</script></span>帧/s</li>
<li>1：服务器数目</li>
</ul>
<p><img alt="1729133398637" src="../image/class_4/1729133398637.png" /></p>
<p>结论：信道等分的份数越多，每个用户的延迟越大，且成正比（增大N倍）。</p>
<p>问题：资源分配不合理；有资源浪费，延迟大</p>
<p>适用于：</p>
<ul>
<li>用户数量少、数量固定</li>
<li>通信量大、流量稳定</li>
</ul>
<h4 id="12">1.2 动态分配方法：多路访问协议<a class="headerlink" href="#12" title="Permanent link">&para;</a></h4>
<h3 id="2">2. 多路访问协议<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<h4 id="21">2.1 随机访问协议<a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<p>特点：冲突不可避免</p>
<h5 id="211-aloha">2.1.1 ALOHA协议<a class="headerlink" href="#211-aloha" title="Permanent link">&para;</a></h5>
<p>原理：想发就发，没有限制。</p>
<p>特点：</p>
<ul>
<li>冲突：两个或以上的帧</li>
<li>随时可能冲突</li>
<li>冲突的帧会被完全破坏</li>
<li>破坏的帧需要重传</li>
</ul>
<p>数学描述：</p>
<ul>
<li>帧时：发送一个标准长的帧所需的时间</li>
<li>一个帧时内用户产生的新帧：N</li>
<li>一个帧时内信道中产生的帧（包括重传）：G</li>
</ul>
<p>则当G=N时，信道恰好不会冲突（一个帧时传一个帧，产生一个新帧）；而G&gt;N时会产生冲突，需要重传。</p>
<p><img alt="1729133996400" src="../image/class_4/1729133996400.png" /></p>
<p>性能分析：</p>
<ul>
<li>吞吐量（S）：在发送时间T内发送成功的平均帧数</li>
<li>显然，<span class="arithmatex"><span class="MathJax_Preview">0&lt;S&lt;1</span><script type="math/tex">0<S<1</script></span></li>
<li>当S=1时，就是G=N（恰好不会产生冲突，且效率最高）</li>
<li>运载负载（网络负载）（G）：时间T内所有通信站总共发送的帧数平均值（包括重发）</li>
<li>不发生冲突时，G=S</li>
<li>发生冲突时，G&gt;S</li>
<li><span class="arithmatex"><span class="MathJax_Preview">P_0</span><script type="math/tex">P_0</script></span>：一帧发送成功的概率，定义<span class="arithmatex"><span class="MathJax_Preview">P_0=\frac{S}{G}</span><script type="math/tex">P_0=\frac{S}{G}</script></span></li>
<li>假设传播延迟为D（即帧占用信道传播的时间），那么冲突危险期为2D（在这一时间段内可能帧会重合）</li>
<li>则该段时间内生成帧均值为2G,不遭受冲突的概率为<span class="arithmatex"><span class="MathJax_Preview">P_0=e^{-2G}</span><script type="math/tex">P_0=e^{-2G}</script></span></li>
</ul>
<p><img alt="1729134500668" src="../image/class_4/1729134500668.png" /></p>
<p>由上述描述可知：<span class="arithmatex"><span class="MathJax_Preview">S = P_0G = e^{-2G}G</span><script type="math/tex">S = P_0G = e^{-2G}G</script></span></p>
<p>可以对S进行分析，发现<span class="arithmatex"><span class="MathJax_Preview">G=0.5</span><script type="math/tex">G=0.5</script></span>时达到最大，S的最大值为0.184。</p>
<p>即，纯ALOHA信道的利用率最高为18.4%。</p>
<h5 id="212-alohaslotted-aloha">2.1.2 分隙ALOHA（slotted ALOHA）协议<a class="headerlink" href="#212-alohaslotted-aloha" title="Permanent link">&para;</a></h5>
<p>分隙ALOHA就是将时间分成时隙（时槽）</p>
<ul>
<li>时隙的长度对应一帧的传输时间</li>
<li><strong>帧的发送必须在时隙的起点</strong></li>
<li>因此，冲突只发生在时隙的起点，因此冲突危险期为D（只有在同一帧时内产生的帧才会冲突）</li>
</ul>
<p>通过Slotted ALOHA，冲突危险期直接减半，因此S最大值为0.368，恰好是纯ALOHA的两倍。</p>
<p>但代价是，每一帧不可随意发送，需要承担最多一个帧时的时间的overhead。</p>
<p><img alt="1729134857094" src="../image/class_4/1729134857094.png" /></p>
<h5 id="213-csmacarrier-sense-multiple-access">2.1.3 载波侦听多路访问协议（CSMA，carrier-sense multiple access）<a class="headerlink" href="#213-csmacarrier-sense-multiple-access" title="Permanent link">&para;</a></h5>
<p>原理就是通过侦听信道中的载波判断信道中是否有人在发送信息，从而减少出现冲突。</p>
<p>特点：先听后发</p>
<h6 id="2131-csma">2.1.3.1 非持续式CSMA<a class="headerlink" href="#2131-csma" title="Permanent link">&para;</a></h6>
<p>特点：</p>
<ul>
<li>侦听发现介质空闲，就发送</li>
<li>如果介质忙，<strong>就等待一个随机分布的时间</strong>，再重复侦听</li>
</ul>
<p>优点：</p>
<ul>
<li>等待一个随机事件可避免再次冲突的可能性</li>
</ul>
<p>缺点：</p>
<ul>
<li>如果等待时间内介质上没有数据发送，这段时间是浪费的</li>
</ul>
<h6 id="2132-1-csma">2.1.3.2 持续式（1-持续式）CSMA<a class="headerlink" href="#2132-1-csma" title="Permanent link">&para;</a></h6>
<p>特点：</p>
<ul>
<li>侦听发现介质空闲，则发送</li>
<li>若介质忙，则**持续侦听**，一旦空闲立即发送</li>
<li>如果发生冲突，等待一个随机分布的时间再进行侦听</li>
</ul>
<p>优点：</p>
<ul>
<li>延迟时间要小于非持续式</li>
</ul>
<p>缺点：</p>
<ul>
<li>如果两个以上的站同时处于持续侦听的状态，那么一旦介质空闲就必定会发生冲突。</li>
</ul>
<h6 id="2133-p-csma">2.1.3.3 p-持续式CSMA<a class="headerlink" href="#2133-p-csma" title="Permanent link">&para;</a></h6>
<p>特点：</p>
<ul>
<li>侦听发现介质空闲，<strong>则p概率发送</strong>，<strong>1-p概率等待一个时间单元发送</strong></li>
<li>如介质忙，持续侦听，一旦空闲立即发送</li>
<li>如果发送已推迟一个时间单元，再重复侦听</li>
</ul>
<blockquote>
<p>1-持续式CSMA是p-持续式的特例</p>
</blockquote>
<h6 id="_1">分析<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h6>
<p><strong>CSMA不能避免完全不会发生冲突，因为会出现下述状况：</strong></p>
<ul>
<li>同时传送（持续式CSMA发生的冲突）</li>
<li>传播延迟问题（即A正在使用信道，但载波传播具有延迟，导致B误以为信道空闲）</li>
</ul>
<p><img alt="1729135888152" src="../image/class_4/1729135888152.png" /></p>
<p>冲突窗口：发送站发出帧后能检测到冲突（碰撞）的最长时间。</p>
<p>它的树枝上等于最远两站传播时间的两倍，即2D（D为单边延迟）。</p>
<h5 id="212-csmacd1-">2.1.2 CSMA/CD（1-持续）<a class="headerlink" href="#212-csmacd1-" title="Permanent link">&para;</a></h5>
<p>CSMA with Collision Detection</p>
<p>原理：先听后发，边发边听</p>
<ul>
<li>
<ol>
<li>经侦听，介质空闲则发送</li>
</ol>
</li>
<li>
<ol>
<li>介质忙则持续侦听，一旦空闲立即发送</li>
</ol>
</li>
<li>
<ol>
<li>若发生冲突，等待一个随机分布的时间再重复1</li>
</ol>
</li>
<li>
<ol>
<li>发送的过程中同时侦听是否发生冲突；若发生冲突则发送Jam（强化）信号</li>
</ol>
</li>
</ul>
<p>自然要求：</p>
<ul>
<li>发送帧的时间不能太短，至少一个冲突窗口的时间（2D）</li>
</ul>
<h4 id="22">2.2 受控访问协议<a class="headerlink" href="#22" title="Permanent link">&para;</a></h4>
<p>特点：可避免冲突，但有Overhead</p>
<h5 id="221">2.2.1 位图协议<a class="headerlink" href="#221" title="Permanent link">&para;</a></h5>
<ul>
<li>竞争期：每个站在自己的时槽内发送竞争比特（表示要传输数据）</li>
<li>传输器：按序发送（明确了使用权，避免冲突）</li>
</ul>
<p>假设：有N个用户，需要N个时隙，每帧d比特；</p>
<p>信道利用率：</p>
<ul>
<li>在低负荷条件下：<span class="arithmatex"><span class="MathJax_Preview">\frac{d}{d+N}</span><script type="math/tex">\frac{d}{d+N}</script></span></li>
<li>在高负荷条件下：<span class="arithmatex"><span class="MathJax_Preview">\frac{d}{d+1}</span><script type="math/tex">\frac{d}{d+1}</script></span></li>
</ul>
<p>具体计算方式：n个征用周期需要预留n个比特来记录哪些用户“举手”了，而确定发送需求后就会直接按照这些比特按顺序发送帧（每个帧为d比特）。</p>
<p>因此，如果“举手”的人越少，那么预留记录的比特占比就会更大（在只有一个人举手的情况下就是<span class="arithmatex"><span class="MathJax_Preview">\frac{d}{d+N}</span><script type="math/tex">\frac{d}{d+N}</script></span>）；反之，如果“举手”的人越多，那么这种做法越有效，所有人举手的情况就是<span class="arithmatex"><span class="MathJax_Preview">\frac{Nd}{Nd+N} = \frac{d}{d+1}</span><script type="math/tex">\frac{Nd}{Nd+N} = \frac{d}{d+1}</script></span>。</p>
<p>问题：无法进行优先权控制</p>
<h5 id="222">2.2.2 令牌传递<a class="headerlink" href="#222" title="Permanent link">&para;</a></h5>
<p>令牌：发送权限</p>
<p>令牌的运行：发送工作站去抓取，获得发送权</p>
<ul>
<li>除了环，令牌也可以运行在其它拓扑上，如令牌总线</li>
</ul>
<p>发送的帧需要目的站或发送站将其从共享信道上去除；防止无限循环</p>
<p>缺点：令牌的维护代价</p>
<p><img alt="1729136891869" src="../image/class_4/1729136891869.png" /></p>
<h5 id="223">2.2.3 二进制倒计数协议<a class="headerlink" href="#223" title="Permanent link">&para;</a></h5>
<p>为每个站点编号，序号长度相同</p>
<p>有数据发送的站点从高序号到低序号排队，高者得到发送权</p>
<ul>
<li>每个站点逐位发送自己的编号</li>
<li>如果站点发现别的站点序号比自己大（比如有人发1，而自己该位为0），则放弃该轮的发送</li>
<li>如上所述发送一轮，就可以决定哪个数据先发送</li>
</ul>
<p><strong>注意：这个协议只能发现最大的那一个，换言之只能够实现单个帧的选取-传播过程，因此往往用于低负载的场景</strong></p>
<p>特点：高序号的站点优先</p>
<p><img alt="1729137021678" src="../image/class_4/1729137021678.png" /></p>
<p>由于是通过二进制编码进行通信，因此信道利用率变为了：<span class="arithmatex"><span class="MathJax_Preview">\frac{d}{d + log_2 N}</span><script type="math/tex">\frac{d}{d + log_2 N}</script></span></p>
<p>二进制编码为位图编码在低负载场景下的overhead进行了优化。</p>
<p>注：<strong>如果规定每个帧的帧头为发送地址，即竞争的同时也在发送。则效率为100%</strong></p>
<p>即：所有发送人同时发送，每发送一个bit就会有约一半的发送者放弃发送，因为帧的帧头就是发送地址，所以成功选中的发送人（们）事实上已经在传输数据了，所以效率为100%。</p>
<h4 id="23">2.3 有限竞争协议<a class="headerlink" href="#23" title="Permanent link">&para;</a></h4>
<p>特点：结合了上述二者的优势</p>
<p>即上述两种方法复用，在低负荷时使用CSMA/CD，在高负荷时使用受控访问协议。</p>
<h5 id="231-adaptive-tree-walk-protocol">2.3.1 自适应树搜索协议（Adaptive Tree Walk Protocol）<a class="headerlink" href="#231-adaptive-tree-walk-protocol" title="Permanent link">&para;</a></h5>
<p>原理：</p>
<ul>
<li>**一般**从根节点开始：</li>
<li>第一层：所有站点竞争</li>
<li>左侧继续竞争</li>
<li>右侧在下一时隙继续竞争</li>
<li>特别地，如果只有一个站点竞争，它直接获得信道</li>
</ul>
<p>注意：如果workload很低，甚至可以不需要从根节点开始，可以直接从子节点开始扫描。</p>
<p><img alt="1729137669196" src="../image/class_4/1729137669196.png" /></p>
<h3 id="3">3. 以太网<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<h4 id="31">3.1 以太网的历史<a class="headerlink" href="#31" title="Permanent link">&para;</a></h4>
<p>设计者：Bob Metcalfe</p>
<p>发展历程：</p>
<ul>
<li>3Mbps（1973）</li>
<li>10Mbps（3Com公司，10Mbps）</li>
<li>IEEE成为以太网官方标准组织（1985）</li>
<li>IEEE发表10Base5标准，即粗以太网（1986）</li>
<li>Kalpana推出以太网交换机（1989）</li>
<li>Cat-3双绞线 10Base-T以太网（1991）</li>
<li>10BaseF标准（光纤以太网标准）（1994）</li>
<li>100Mbps快速以太网（1995）</li>
<li>1000Base-T千兆网（1998）</li>
<li>万兆以太网（2002）</li>
<li>40G/100G以太网（2010）</li>
<li>200G/400G以太网（2014）</li>
</ul>
<h4 id="32">3.2 经典以太网<a class="headerlink" href="#32" title="Permanent link">&para;</a></h4>
<ul>
<li>最高速率为10Mbps</li>
<li>采用**曼彻斯特编码**</li>
<li>使用**同轴电缆**和**中继器**连接</li>
<li>主机采用CSMA/CD协议</li>
<li>MAC帧格式有两种标准：</li>
<li>DIX Ethernet V2</li>
<li>IEEE 802.3 Ethernet</li>
</ul>
<p><img alt="1729138356265" src="../image/class_4/1729138356265.png" /></p>
<p><img alt="1729138492593" src="../image/class_4/1729138492593.png" /></p>
<p>其中，<strong>目的地址和源地址就是MAC地址（物理地址）</strong></p>
<blockquote>
<p>即事实上，所谓物理地址与物理层无关，它是指MAC地址，属于数据链路层</p>
</blockquote>
<p>MAC地址的长度为6字节，通常由12个16进制数表示。</p>
<p>MAC地址举例：</p>
<ul>
<li>单播（unicast）：5C-26-0A-7E-4E-4C</li>
<li>广播（broadcast）：FF-FF-FF-FF-FF-FF</li>
<li>组播（multicast）：01-00-5E-00-00-00</li>
</ul>
<p>MAC地址是全球每个网卡的唯一标识，因此MAC地址的分配是全球性的。（由OUI管理）</p>
<blockquote>
<p>但事实上MAC地址是可以自己修改的</p>
</blockquote>
<p>限制（为保证MAC协议正常工作）：</p>
<ul>
<li>任意两个收发器间距离不得超过2.5km（避免RTT过长）</li>
<li>任意两个收费发起经过中继器不能超过4个</li>
</ul>
<p>根据上述架构可知：</p>
<ul>
<li>最小帧长为46+18=64B</li>
<li>最大帧长为1500+18=1518B（即，MTU=1500B）</li>
</ul>
<p>如果数据字段不足46字节，那么需要填充整数字节（padding）至46字节（往往通过在数据段后添加00补位）以保证MAC帧不少于64字节。</p>
<p>以太网规定最短有效帧长为64字节，凡是长度小于64字节的帧都是异常中止的无效帧。</p>
<ul>
<li>即：保证冲突一定发生在前64字节内，如果发生冲突，传输的帧就必然是小于64字节的。</li>
<li>检查出的无效帧直接丢弃；以太网不负责重传帧（这是数据链路层其他部分的事情）</li>
</ul>
<p><img alt="1729139042923" src="../image/class_4/1729139042923.png" /></p>
<p>校验和（FCS，frame check sequence）</p>
<ul>
<li>使用CRC32计算除校验和外的其他字段</li>
</ul>
<p>特别的，在CSMA/CD检测到冲突时，会：</p>
<ul>
<li>立即终止传输</li>
<li>发出一个短冲突加强信号</li>
<li>等待一段**随机时间**后重发</li>
</ul>
<p>随机时间的计算方法为：二进制指数后退（Binary exponential backoff）</p>
<p>即：</p>
<ul>
<li>确定基本退避时间槽（为一个争用期，<span class="arithmatex"><span class="MathJax_Preview">2\tau</span><script type="math/tex">2\tau</script></span>，以太网中设置为512比特时间）</li>
<li>定义重传次数k，<span class="arithmatex"><span class="MathJax_Preview">k=min\{重传次数，10\}</span><script type="math/tex">k=min\{重传次数，10\}</script></span></li>
<li>从<span class="arithmatex"><span class="MathJax_Preview">[0,1,...,2^k-1]</span><script type="math/tex">[0,1,...,2^k-1]</script></span>中随机取一个数r，时延就是<span class="arithmatex"><span class="MathJax_Preview">r\times2\tau</span><script type="math/tex">r\times2\tau</script></span></li>
<li>当重传次数达到16次，就丢弃该帧并向高层报告。</li>
</ul>
<p><img alt="1729735685196" src="../image/class_4/1729735685196.png" /></p>
<h4 id="33">3.3 交换式以太网<a class="headerlink" href="#33" title="Permanent link">&para;</a></h4>
<p>集线器（Hub）：在交换机之前组建以太网的方法</p>
<ul>
<li>Hub的所有端口内部都是联通的</li>
<li>使用同一根总线</li>
<li>和Repeater一样，也是物理层设备</li>
</ul>
<p>使用Hub扩展以太网</p>
<ul>
<li>集线器不能增加容量</li>
<li>用集线器组成更大的局域网都在一个冲突域中</li>
<li>即：A向B发送时，C不能向D发送（因为使用同一根总线）</li>
<li>Hub级联：限制网络的可扩展性</li>
</ul>
<p>交换机（Switch）</p>
<ul>
<li>工作在数据链路层，根据MAC帧的目的地址对收到的帧进行转发</li>
<li>交换机通过告诉背板把帧传送到目标端口</li>
</ul>
<p>混杂模式（promiscuous mode）：</p>
<ul>
<li>Hacker</li>
<li>网络分析</li>
</ul>
<p><strong>与Hub不同的是，Switch不再局限于单一总线，而是通过高速背板连接所有端口，这意味着可以并行传输，每个端口都有独立的冲突域</strong></p>
<p><img alt="1729735996806" src="../image/class_4/1729735996806.png" /></p>
<h4 id="34">3.4 快速以太网<a class="headerlink" href="#34" title="Permanent link">&para;</a></h4>
<p>快速以太网（Fast Ethernet）</p>
<ul>
<li>带宽 100Mbps</li>
<li>比特时间：10ns（<span class="arithmatex"><span class="MathJax_Preview">\frac{1}{100Mbps}</span><script type="math/tex">\frac{1}{100Mbps}</script></span>）</li>
<li>电缆的最大长度降低到十分之一（这是因为速度变快，最短帧长变大，为了保持最短帧长不变，需要等比例缩小电缆的最大长度）</li>
<li>保留原来的工作方式</li>
<li>自动协商（autonegotiation）</li>
<li>线缆类型</li>
</ul>
<p><img alt="1729736270660" src="../image/class_4/1729736270660.png" /></p>
<h4 id="35">3.5 千兆以太网<a class="headerlink" href="#35" title="Permanent link">&para;</a></h4>
<p>千兆以太网（Gigabit Ethernet）</p>
<ul>
<li>带宽 1000Mbps</li>
<li>保留原来的工作方式</li>
<li>全双工和半双工两种方式工作</li>
<li>半双工使用CSMA/CD（为了向后兼容）</li>
<li>全双工不需要使用CSMA/CD</li>
<li>流量控制和巨型帧</li>
<li>线缆类型</li>
</ul>
<p><img alt="1729736702131" src="../image/class_4/1729736702131.png" /></p>
<h4 id="36">3.6 万兆以太网<a class="headerlink" href="#36" title="Permanent link">&para;</a></h4>
<p>万兆以太网（10-Gigabit Ethernet）</p>
<ul>
<li>带宽 10Gbps</li>
<li>常记为10GE，10GbE或10GigE</li>
<li>只支持全双工，不再使用CSMA/CD</li>
<li>保持兼容性</li>
<li>重点是超高速的物理层</li>
</ul>
<p><img alt="1729736771756" src="../image/class_4/1729736771756.png" /></p>
<h4 id="37-40g100g">3.7 40G/100G以太网<a class="headerlink" href="#37-40g100g" title="Permanent link">&para;</a></h4>
<p>40GbE/100GbE</p>
<ul>
<li>带宽 40Gbps/100Gbps</li>
<li>支支持全双工</li>
<li>保留帧格式和MAC方法</li>
<li>保留802.3的最小帧和最大帧大小</li>
</ul>
<h4 id="38">3.8 总结<a class="headerlink" href="#38" title="Permanent link">&para;</a></h4>
<p>以太网的优点：</p>
<ul>
<li>灵活性</li>
<li>简单性</li>
<li>兼容性</li>
<li>易维护</li>
<li>易扩展</li>
<li>可靠性</li>
<li>廉价</li>
</ul>
<h3 id="4">4. 数据链路层交换<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<p>本节将针对交换机内部的原理进行分析。</p>
<h4 id="41">4.1 原理<a class="headerlink" href="#41" title="Permanent link">&para;</a></h4>
<p>物理层设备扩充网络（Hub或Switch）：</p>
<p><img alt="1729737080816" src="../image/class_4/1729737080816.png" /></p>
<p><img alt="1729737095443" src="../image/class_4/1729737095443.png" /></p>
<p>这种新建Hub层的连法，导致冲突域变得更大，更容易发生冲突。</p>
<p>因此考虑用其他的方式扩充网络：</p>
<h5 id="411">4.1.1 网桥<a class="headerlink" href="#411" title="Permanent link">&para;</a></h5>
<p><img alt="1729737159339" src="../image/class_4/1729737159339.png" /></p>
<p>网桥的内部实体是一系列站地址和接口的映射</p>
<p><img alt="1729737184866" src="../image/class_4/1729737184866.png" /></p>
<p>当转发接口不一致时，网桥会将数据包转发到正确的接口</p>
<p>当转发接口一致时，网桥会直接丢弃这份信息</p>
<p><strong>解释：可以从分隔冲突域的目的考虑，新建Hub层之所以扩大了冲突域，就是因为同一Hub内部的信息交换会影响到其他Hub，那么只需要隔离同一Hub内部信息交换，不让它传到其他Hub，就能够实现隔离了。</strong></p>
<p>理想的网桥是**透明**的：</p>
<ul>
<li>即插即用，无需任何配置（即对接口等参数的设置）</li>
<li>网络中的站点无需感知网桥的存在与否</li>
</ul>
<p>如何实现网桥的透明：</p>
<ol>
<li>MAC地址表的构建：逆向学习源地址</li>
</ol>
<p>由于一开始没有对接口等参数的配置，因此需要构建MAC地址表。可以通过分析从站点发来的数据获取站点的MAC地址，然后将其与端口的映射加入到MAC地址表中。</p>
<blockquote>
<p>如果发现MAC地址表中已存在对应映射，就更新状态与时间戳</p>
</blockquote>
<p>设置老化的时间（默认300s），当老化时间到期时，该数据被清除（为了实现即插即用）。</p>
<p><img alt="1729737822671" src="../image/class_4/1729737822671.png" /></p>
<p>总结：MAC地址表通过如下三种操作构建：</p>
<ul>
<li>增加表项：帧的源地址对应的项不在表中</li>
<li>删除表项：老化时间到期</li>
<li>更新表项：帧的源地址在表中，更新时间戳</li>
</ul>
<p>但因此也存在一定的安全隐患：</p>
<ul>
<li>
<p>例如通过频繁改变发送方MAC，让网桥的表溢出，或者通过伪造MAC来攻击网桥</p>
</li>
<li>
<p>工作模式</p>
</li>
</ul>
<p>根据情况的不同，一共有三种工作模式（假设B向D发送数据帧）：</p>
<ul>
<li>逆向学习源地址</li>
<li>根据目的地址查询MAC地址表</li>
<li>
<ol>
<li>
<p>找到目的地址对应的端口</p>
</li>
<li>
<ol>
<li>端口与发送端口不一致：转发（Forwarding），转发到对应端口</li>
</ol>
</li>
<li>
<ol>
<li>端口与发送端口一致：过滤（Filtering），丢弃数据包</li>
</ol>
</li>
<li>
<ol>
<li>端口无法找到：泛洪（Flooding），广播到所有端口（代价很大，且存在安全隐患，浪费网络资源）</li>
</ol>
</li>
</ol>
</li>
</ul>
<p>特别的，只对于如下两种目的地址的帧需要泛洪：</p>
<ul>
<li>广播帧：目的地址为 <code>FF-FF-FF-FF-FF-FF</code></li>
<li>未知单播帧：MAC地址表中不存在目的地址</li>
</ul>
<h5 id="412">4.1.2 链路层交换机<a class="headerlink" href="#412" title="Permanent link">&para;</a></h5>
<p>执行数据链路层交换算法</p>
<ul>
<li>多端口透明网桥，网桥的现代名称</li>
<li>即插即用</li>
</ul>
<p>POE（Power Over Ethernet）交换机：</p>
<ul>
<li>常接：网络摄像机、AP、IP电话等</li>
<li>主要电源：无需电源（受电端）、无需专门布线</li>
</ul>
<p><img alt="1729738551973" src="../image/class_4/1729738551973.png" /></p>
<p><img alt="1729738570580" src="../image/class_4/1729738570580.png" /></p>
<p>交换方式：</p>
<ol>
<li>
<p>从带宽角度：</p>
</li>
<li>
<p>对称交换：出入带宽相同</p>
</li>
<li>
<p>非对称交换：出入带宽不同</p>
</li>
<li>
<p>从转发时机角度：</p>
</li>
<li>
<p>存储转发模式（Store and Forward）</p>
</li>
<li>直通模式（Cut-through）</li>
<li>无碎片模式（Fragment-Free）</li>
</ol>
<p>存储转发模式：</p>
<ul>
<li>特点：转发前必须接收整个帧，执行CRC校验</li>
<li>缺点：延迟大</li>
<li>优点：不转发出错帧、支持非对称交换，将过滤所有的错误帧</li>
</ul>
<p>直通交换：</p>
<ul>
<li>特点：一旦接收到帧的目的地址，就开始转发</li>
<li>缺点：可能转发错误帧、不支持非对称交换</li>
<li>优点：延迟非常小，可以边入边出</li>
</ul>
<p>无碎片交换：</p>
<ul>
<li>特点：上述两者的折中：接收到帧的前64字节再开始转发</li>
<li>缺点：仍可能转发错误帧，不支持非对称交换</li>
<li>优点：过滤了冲突碎片，延迟和转发错帧的性能介于上述两种方法之间</li>
</ul>
<h5 id="413">4.1.3 生成树协议<a class="headerlink" href="#413" title="Permanent link">&para;</a></h5>
<h6 id="4131">4.1.3.1 问题<a class="headerlink" href="#4131" title="Permanent link">&para;</a></h6>
<p>这是为了保证交换机传输的可靠性建立的协议。</p>
<p>简单的方法就是配置多个交换机，如果其中一个无法使用，还可以使用其他交换机进行传输。</p>
<p><img alt="1729739988331" src="../image/class_4/1729739988331.png" /></p>
<p>问题为：</p>
<ol>
<li>广播风暴：交换机在物理环路上无休止地泛洪广播流量，无限循环，迅速消耗网络资源</li>
</ol>
<p><img alt="1729740034821" src="../image/class_4/1729740034821.png" /></p>
<ol>
<li>重复帧：帧会通过不同的交换机线路传输到目的地址，这会导致目的地址收到多个重复的帧</li>
</ol>
<p><img alt="1729740077133" src="../image/class_4/1729740077133.png" /></p>
<ol>
<li>MAC地址表不稳定：由于物理环路的存在，因此帧进入交换机的端口会频繁变化</li>
</ol>
<p><img alt="1729740128496" src="../image/class_4/1729740128496.png" /></p>
<h6 id="4132">4.1.3.2 生成树协议的方法<a class="headerlink" href="#4132" title="Permanent link">&para;</a></h6>
<p>生成树协议的目的，就是打破物理环路，获得一个无环的生成树</p>
<ol>
<li>参与构建生成树的交换机：互相接收、发送BPDU（桥协议数据单元）</li>
<li>选举产生根桥、根端口、指定端口，形成生成树</li>
</ol>
<p>BPDU包含如下信息：</p>
<ul>
<li>根桥ID（Root ID）：被选为根的桥ID</li>
<li>桥ID为8字节，由2字节的priority和6字节的MAC地址组成</li>
<li>根路径开销（Root Path Cost）：到根桥的最短路径开销</li>
<li>指定桥ID（Designated ID）：生成和转发BPDU的桥ID</li>
<li>指定端口ID（Designated Port ID）：发送BPDU的端口ID</li>
</ul>
<p>选举过程：</p>
<ul>
<li>选举根桥（Root Bridge）</li>
<li>为每个非根桥选出一个根端口（Root Port）</li>
<li>
<p>为每个网段确定一个指定端口（Designated Port）</p>
</li>
<li>
<p>选举根桥：</p>
</li>
<li>
<p>同一广播域（广播域：主机发送广播帧（引发泛洪），所有能够接收到该帧的节点与主机）中的所有交换机参与选举</p>
</li>
<li>桥ID最小的交换机作为生成树的根</li>
<li>比较桥ID的方法：<ul>
<li>优先级高的桥优先作为根桥</li>
<li>相同优先级的桥，MAC地址小的桥优先作为根桥</li>
</ul>
</li>
<li>给定广播域内只有一个根桥</li>
<li>
<p>根桥的所有端口都处在**转发状态**（可以接收/发送数据帧）</p>
</li>
<li>
<p>为每个非根桥选一个根端口：</p>
</li>
<li>
<p>每个非根桥，通过比较每个端口到根桥的根路径开销，选出根端口</p>
</li>
<li>具有最小根路径开销的端口为根端口</li>
<li>如果多个端口路径开销相同，则端口ID最小的端口为根端口</li>
<li>非根桥只有一个根端口，根端口处于**转发状态**</li>
</ul>
<blockquote>
<p>根路径开销：根桥根路径开销为0；非根桥的根路径开销为到根桥路径上所有端口开销之和</p>
</blockquote>
<p><img alt="1729740729483" src="../image/class_4/1729740729483.png" /></p>
<p><img alt="1729740782396" src="../image/class_4/1729740782396.png" /></p>
<ol>
<li>
<p>为每个网段确定一个指定端口：</p>
</li>
<li>
<p>对每一个网段，在所有连接到它的交换机端口中进行选择：</p>
</li>
<li>**一个**具有最小根路径开销的端口，作为该网段的指定端口</li>
<li>若有多个端口具有相同的最小根路径开销，则选择端口ID最小的端口作为指定端口</li>
<li>指定端口处于**转发状态**，负责该网段的数据转发</li>
<li>连接该网段的其他端口若既不是指定端口，也不是根端口，则阻塞</li>
</ol>
<p><strong>根桥的所有连接端口都是指定端口。</strong></p>
<h6 id="4133">4.1.3.3 出错时生成树协议的重构方法<a class="headerlink" href="#4133" title="Permanent link">&para;</a></h6>
<p>当由于交换机或链路故障导致网络拓扑改变时，重新构造生成树。</p>
<p>快速生成树协议（RSTP，Rapid Spanning Tree Protocol）：</p>
<ul>
<li>是STP的优化版，在IEEE802.1W中定义，在IEEE802.1D中整合起来</li>
</ul>
<p><img alt="1729741669341" src="../image/class_4/1729741669341.png" /></p>
<h4 id="42">4.2 虚拟局域网<a class="headerlink" href="#42" title="Permanent link">&para;</a></h4>
<h5 id="421">4.2.1 原理<a class="headerlink" href="#421" title="Permanent link">&para;</a></h5>
<p>广播域：广播帧能够到达的范围</p>
<ul>
<li>缺省情况下：交换机的所有端口同属于一个广播域，无法隔离广播域</li>
<li>广播帧在广播域中传播，占用资源、降低性能、具有安全隐患</li>
</ul>
<p>因此，我们希望通过交换机将**广播域**也隔离开来。</p>
<p>支持VLAN的交换机：</p>
<ul>
<li>一个VLAN（Virtual LAN）对应一个广播域</li>
<li>交换机通过划分VLAN，来分割广播域</li>
</ul>
<p><img alt="1729742023559" src="../image/class_4/1729742023559.png" /></p>
<p><img alt="1729742038260" src="../image/class_4/1729742038260.png" /></p>
<p><strong>注意：这样的方法是隔断了不同VLAN成员的二层通信（数据链路层通信），它们仍然可以通过三层设备（路由器等）进行通信。</strong></p>
<h5 id="422-vlan">4.2.2 VLAN<a class="headerlink" href="#422-vlan" title="Permanent link">&para;</a></h5>
<ol>
<li>
<p>基于端口的VLAN（最常见）</p>
</li>
<li>
<p>创建VLAN</p>
</li>
<li>
<p>指定成员端口（即创建一个VLAN到端口的映射，与MAC地址表类似）</p>
</li>
<li>
<p>基于MAC地址的VLAN</p>
</li>
<li>
<p>创建一个VLAN到MAC地址的映射表</p>
</li>
<li>
<p>优点：主机在更换端口时，VLAN不会改变</p>
</li>
<li>
<p>基于协议的VLAN</p>
</li>
<li>
<p>需要服务器的参与，创建VLAN到协议的映射表</p>
</li>
<li>
<p>基于子网的协议</p>
</li>
<li>
<p>基于子网划分VLAN，与子网掩码一起使用</p>
</li>
<li>一个子网就是一个VLAN</li>
</ol>
<h5 id="423">4.2.3 其他问题<a class="headerlink" href="#423" title="Permanent link">&para;</a></h5>
<p><strong>注意：同一个交换机可能具备隶属于多个不同VLAN的端口，因此不仅需要对端口进行VLAN划分，还需要对传输的数据帧进行VLAN划分。</strong></p>
<p>如何区分不同VLAN的数据帧？</p>
<ul>
<li>在数据帧中携带VLAN标记</li>
<li>VLAN标记由交换机添加/剥除，对终端站点透明</li>
</ul>
<p><img alt="1729742355582" src="../image/class_4/1729742355582.png" /></p>
<p>更多的端口类型：</p>
<ul>
<li>Access链路类型端口</li>
<li>一般用于连接用户设备（无需识别802.1Q帧的设备）</li>
<li>Access端口只能加入一个VLAN</li>
<li>一旦Access端口加入VLAN，连接在该端口的设备被视为属于该VLAN</li>
<li>Trunk链路类型端口</li>
<li>一般用于连接交换机（支持802.1Q帧的设备）</li>
<li>干道链路允许多个VLAN流量通过</li>
</ul>
<h3 id="5">5. 无线局域网<a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<h4 id="51">5.1 无线局域网概述<a class="headerlink" href="#51" title="Permanent link">&para;</a></h4>
<p>无线局域网（WLAN）：以无线信道作为传输介质的计算机局域网</p>
<p>设计目标：</p>
<ul>
<li>小的覆盖范围（受限的发射功率）</li>
<li>无需授权的频谱（ISM频段）</li>
<li>高速率应用</li>
<li>支持实时和非实时应用</li>
</ul>
<p>重要组织：</p>
<ul>
<li>IEEE 802.11</li>
<li>WiFi联盟（WFA）</li>
</ul>
<h4 id="52">5.2 无线局域网组网模式<a class="headerlink" href="#52" title="Permanent link">&para;</a></h4>
<p>基础架构模式</p>
<ul>
<li>分布式系统（DS）</li>
<li>访问点（AP）</li>
<li>站点（STA）</li>
<li>基本服务集（BSS）</li>
<li>扩展服务集（ESS）</li>
<li>站点间通过AP转发</li>
</ul>
<p><img alt="1729743088788" src="../image/class_4/1729743088788.png" /></p>
<p>自组织模式（Ad hoc）</p>
<ul>
<li>站点（STA）</li>
<li>独立基本服务集（IBSS）</li>
<li>站点之间直接通信</li>
<li>共享同一无线信道</li>
</ul>
<h4 id="53">5.3 无线局域网体系结构<a class="headerlink" href="#53" title="Permanent link">&para;</a></h4>
<p><img alt="1729743150694" src="../image/class_4/1729743150694.png" /></p>
<p>需要解决的问题：</p>
<ul>
<li>有限的无线频谱带宽资源</li>
<li>共享的无线信道</li>
<li>组网模式管理</li>
</ul>
<h4 id="54-80211">5.4 802.11 物理层<a class="headerlink" href="#54-80211" title="Permanent link">&para;</a></h4>
<ul>
<li>频段：2.4GHz、5GHz</li>
<li>调制技术：DPSK → QPSK → CCK → 64-QAM → 256-QAM → 1024-QAM</li>
<li>直接序列扩频（DSSS）→ 正交频分多路复用（OFDM）→ 正交频分多址（OFDMA）</li>
<li>单天线 → 单用户多入多出（SU-MIMO）→ 多用户多入多出（MU-MIMO）</li>
<li>目的：提升传输速率，增强可靠性，支持高密度接入</li>
</ul>
<h4 id="55-80211-mac">5.5 802.11 MAC层<a class="headerlink" href="#55-80211-mac" title="Permanent link">&para;</a></h4>
<p>问题：如何进行collision detection?</p>
<ul>
<li>冲突检测困难</li>
<li>在接收端，发送功率和接收功率相差太大</li>
<li>站点在发送时关闭接收功能，无法在发送时同时检测冲突</li>
<li>同一BSS中，不是所有的站点都能互相感知到对方发送的信号</li>
<li>隐藏终端问题（由于距离太远/障碍物，导致无法检测到竞争对手的存在）</li>
<li>暴露终端问题，降低网络的吞吐量（由于侦听到其他站点的发送而误以为信道忙，导致不发送）（但事实上侦听错了，不会出现冲突）</li>
</ul>
<p><img alt="1729743403721" src="../image/class_4/1729743403721.png" /></p>
<p>改进：CSMA/CA协议（Carrier Sense Multiple Access with Collision Avoid）：</p>
<ul>
<li>当信道空闲时间大于IFS（帧间隙），立即传输</li>
<li>当信道忙时，延迟知道当前传输结束+IFS时间</li>
<li>开始随机退后过程</li>
<li>从（0, CWincow）中选择一个随机数作为退后计数器（backoff counter）</li>
<li>通过侦听确定每个时间槽是否活动</li>
<li>如果没有活动，则减少退后时间</li>
<li>退后过程中如果信道忙，则挂起退后过程</li>
<li>当前帧传输结束后回复退后过程</li>
</ul>
<p><img alt="1729743682466" src="../image/class_4/1729743682466.png" /></p>
<p>竞争窗口（CWindow）的选择：</p>
<ul>
<li>应与网络负载情况相适应</li>
<li>二进制指数退后算法</li>
</ul>
<p>差错检测：32位CRC校验</p>
<p>确认重传：采用**停等**机制（发送数据、等待确认、超时重传）</p>
<ul>
<li>之所以不用流水线，是因为WiFi传输速率很高，没有必要使用流水线</li>
</ul>
<p>不同帧间隙控制优先级：</p>
<ul>
<li>SIFS（Short IFS）：最高优先级（ACK/CTS/轮询响应等）</li>
<li>PIFS（PCF IFS）：中等优先级（SIFS+1槽口时间），轮询服务</li>
<li>DIFS（DCF IFS）：最低优先级（SIFS+2槽口时间），异步数据服务</li>
</ul>
<p>结合CSMA/CA协议的定义可知：帧间隙控制优先级越高，帧间隙越小，则越有机会抢占信道。</p>
<p>可选机制：RTS-CTS机制</p>
<ul>
<li>目的：通过信道预约来避免长帧冲突</li>
</ul>
<p>简要过程：</p>
<ul>
<li>
<ol>
<li>发送端发送信息前先发RTS，指明传输时间（<span class="arithmatex"><span class="MathJax_Preview">SIFS+CTS+SIFS+DATA+SIFS+ACK</span><script type="math/tex">SIFS+CTS+SIFS+DATA+SIFS+ACK</script></span>）</li>
</ol>
</li>
<li>
<ol>
<li>接收端收到后，回送CTS，指明传输时间（<span class="arithmatex"><span class="MathJax_Preview">SIFS+DATA+SIFS+ACK</span><script type="math/tex">SIFS+DATA+SIFS+ACK</script></span>）</li>
</ol>
</li>
<li>其他站点收到RTS和CTS，则维护NAV（即在这段时间内不再发送数据）NAV：network allocation vector</li>
</ul>
<p><img alt="1730444517675" src="../image/class_4/1730444517675.png" /></p>
<p>特点：RTS和CTS很短，即使发生冲突，信号浪费也较少</p>
<hr />
<p>如何应对无线链路较高的出错率：</p>
<ul>
<li>解决办法：采用较小的帧（将用户数据帧分段的机制对用户透明）</li>
<li><span class="arithmatex"><span class="MathJax_Preview">F_i</span><script type="math/tex">F_i</script></span>帧中携带<span class="arithmatex"><span class="MathJax_Preview">F_{i+1}</span><script type="math/tex">F_{i+1}</script></span>的传输时间</li>
</ul>
<hr />
<p>EDCA（802.11e）（不要求掌握）</p>
<h4 id="56-80211">5.6 802.11 帧结构<a class="headerlink" href="#56-80211" title="Permanent link">&para;</a></h4>
<p>802.11的帧格式一般如下结构：</p>
<p><img alt="1730445213720" src="../image/class_4/1730445213720.png" /></p>
<p>其中主要的字段解释：</p>
<ul>
<li>帧控制：多种用途</li>
<li>持续时间：下一个要发送的帧可能持续的时间（用于RTS/CTS等）</li>
<li>地址1-地址4：每个地址的含义基于“去往DS”和“来自DS”域段确定</li>
<li>当帧是从源发向AP时（去往DS为1，来自DS为0），则地址1为AP地址，地址2为源地址，地址3为目的地址</li>
<li>当帧是从AP发向目的地址时（去往DS为0，来自DS为1），则地址1为目的地址，地址2为AP地址，地址3为源地址</li>
<li>总之，地址1为接收地址，地址2为发送地址。</li>
<li>顺序控制：过滤掉重复帧，或用于分片组合</li>
<li>QoS控制域段：存放数据流的QoS信息</li>
<li>数据：0-2312字节</li>
<li>CRC校验：802.11采用4个字节的校验码</li>
</ul>
<h4 id="57">5.7 无线局域网的构建<a class="headerlink" href="#57" title="Permanent link">&para;</a></h4>
<p>基础架构模式：</p>
<ul>
<li>通过AP接入有线网络（互联网络）</li>
<li>关键：如何关联到AP：</li>
<li>BSSID：AP的MAC地址，标识AP管理的基本服务集</li>
<li>SSID：32字节网名，标识一个扩展服务集（ESS），包含一个或多个服务集</li>
<li>关联阶段：扫描（scan）、认证（authentication）、关联（association）</li>
</ul>
<p>被动扫描：</p>
<ul>
<li>AP周期性发送Beacon帧，站点在每个可用的通道上扫描Beacon帧</li>
<li>Beacon帧提供的AP相关信息：timestamp, beacon interval, capabilities, SSID, supported rates, parameters, traffic indication map(TIM)</li>
</ul>
<p>主动扫描：</p>
<ul>
<li>站点依次在每个可用的通道上发出包含SSID的Probe Request帧，AP在收到Probe Request后，回送Probe Response帧</li>
<li>Probe Resonse帧包含的AP相关信息：timestamp, beacon interval, capabilities, SSID, supported rates, parameters</li>
</ul>
<p>认证过程：</p>
<ul>
<li>
<ol>
<li>当站点找到与其有相同SSID的AP，在SSID匹配的AP中，根据收到的AP信号强度选择一个信号最强的AP，然后进入认证阶段。</li>
</ol>
</li>
<li>
<p>主要认证方式：</p>
<ul>
<li>开放系统身份认证（open-system authentication）</li>
<li>共享密钥认证（shared-key authentication）</li>
<li>WPA PSK认证（pre-shared key authentication）</li>
<li>802.1X EAP认证（802.1X authentication）</li>
</ul>
</li>
</ul>
<p>关联过程：</p>
<ul>
<li>身份认证通过后进入关联阶段</li>
<li>站点向AP发送关联请求（association request）</li>
<li>AP收到请求后，回送关联响应（association response）</li>
<li>AP维护站点关联表，并记录站点的能力</li>
</ul>
<hr />
<p>自组织模式</p>
<ul>
<li>站点先寻找具有指定SSID的IBSS是否存在，如果存在，则加入；若不存在，则自己创建一个IBSS，发出Beacon，等其他站来加入</li>
<li>IBSS中的所有站点参与Beacon发送（保证健壮性），每个站点在Beacon窗口竞争Beacon的产生。对于每个站点：</li>
<li>确定一个随机数k</li>
<li>等待k个时间槽</li>
<li>如果没有其他站点发送Beacon，则开始发送Beacon</li>
</ul>
<p>站点漫游：</p>
<ul>
<li>当前的AP的通道质量下降时，站点漫游到不同的AP</li>
<li>通过扫描功能发现通道质量过呢更好的AP</li>
<li>主动扫描/被动扫描</li>
<li>站点向新的AP发送重新关联请求（Reassociation request）</li>
<li>若AP接受了重关联请求：</li>
<li>AP向站点返回重关联响应（Reassociation response）</li>
<li>如果重关联成功，则站点漫游到新的AP</li>
<li>新的AP通过分布系统通知之前的AP</li>
</ul>
<p>站点睡眠管理：</p>
<ul>
<li>目的：延长电池的续航时间</li>
</ul>
<h4 id="58-wifi">5.8 前沿WiFi技术<a class="headerlink" href="#58-wifi" title="Permanent link">&para;</a></h4>
<p>Wi-Fi 6：</p>
<ul>
<li>核心目标：解决网络容量和传输效率问题、降低传输时延，相对于Wi-Fi 5，在高密部署场景中将用户平均吞吐量提升4倍以上，并发用户数提升3倍以上</li>
<li>核心技术：</li>
<li>OFDMA频分复用技术（实现多站点并行传输）</li>
<li>DL/UL MU-MIMO技术（增加系统容量，提升用户的平均吞吐量）</li>
<li>高阶调制技术（1024-QAM）（提升单条空间流的传输速率）</li>
<li>BSS着色机制（信道合理划分和利用）</li>
<li>扩展覆盖范围</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../class3/" class="md-footer__link md-footer__link--prev" aria-label="上一页: class 3">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                class 3
              </div>
            </div>
          </a>
        
        
          
          <a href="../class5/" class="md-footer__link md-footer__link--next" aria-label="下一页: class 5">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                class 5
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.indexes", "navigation.top", "navigation.footer", "search.highlight", "search.suggest", "toc.follow", "content.code.annotate", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.7389ff0e.min.js"></script>
      
    
  </body>
</html>